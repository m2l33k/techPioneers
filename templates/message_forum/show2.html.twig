{% extends 'base.html.twig' %}

{% block title %}Message Forum Details{% endblock %}

{% block body %}
<div class="show-page">
    <h1 class="text-center">Message Forum Details</h1>

    <!-- Search Form -->
    <div class="search-container text-center mb-4">
        <form action="{{ path('app_message_forum_search') }}" method="get" class="form-inline">
            <input type="text" name="id" placeholder="Search by ID" class="form-control mb-2 mr-2" value="{{ app.request.query.get('id') }}">
            <input type="text" name="creator" placeholder="Search by Creator" class="form-control mb-2 mr-2" value="{{ app.request.query.get('creator') }}">
            <input type="text" name="content" placeholder="Search by Content" class="form-control mb-2 mr-2" value="{{ app.request.query.get('content') }}">
            <button type="submit" class="btn btn-info mb-2">Search</button>
        </form>
    </div>

    <div class="details-container">
        <table class="table table-bordered">
            <tbody>
                <tr>
                    <th>ID</th>
                    <td>{{ message_forum.idMessageForum }}</td>
                </tr>
                <tr>
                    <th>Creator</th>
                    <td>{{  message_forum.createurMessageForum.nomUser }}</td>
                </tr>
                <tr>
                    <th>Forum</th>
                    <td>{{ message_forum.forum ? message_forum.forum.titreForum : 'N/A' }}</td>
                </tr>
                <tr>
                    <th>Content</th>
                    <td>{{ message_forum.conetenuIdMessageForum }}</td>
                </tr>
                <tr>
                    <th>Creation Date</th>
                    <td>{{ message_forum.dateCreationIdMessageForum ? message_forum.dateCreationIdMessageForum|date('Y-m-d H:i:s') : '' }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="action-buttons text-center">
        <a href="{{ path('app_message_forum_index') }}" class="btn btn-secondary">Back to List</a>
        <a href="{{ path('app_message_forum_edit', {'id_message_forum': message_forum.idMessageForum}) }}" class="btn btn-primary">Edit</a>

        <!-- Delete Button as a button, inside a form -->
        <form action="{{ path('app_message_forum_delete', {'IdMessageForum': message_forum.idMessageForum}) }}" method="post" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this message?');">
            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
        </form>
    </div>
</div>
{% endblock %}
